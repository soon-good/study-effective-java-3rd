# 2022-03-07 잠시 중단

이펙티브 자바를 정리하게 되면서 부가적으로 프로젝트에 필요했던 병렬프로그래밍, 모던 자바 인 액션도 같이 정리하게 되었고, 자바 개념도 처음부터 싹다 다시 정리를 시작하게 되었다.<br>

이펙티브 자바를 정리하면서, 자바 정주행을 하면서, 병렬 프로그래밍을 공부하면서, 내 자신에 대해 많이 깨닫게 된것 같고 같은 업계에 노력하며 일하시는 많은 개발자들의 글을 접할 수 있어 좋았고 더욱 더 겸손해져야 겠다고 마음다지는 계기가 된것 같다. <br>

나이가 들어서 40대 후반의 시니어 개발자가 되더라도 이펙티브 자바는 버전이 올라갈거고, 그때도 나는 이펙티브 코틀린 또는 이펙티브 자바를 정주행을 계속 하게 되지 않을까 싶다. 아마 그때는 서버사이드 언어가 코틀린으로 대부분 대체될 것 같다...는 그런 불길?한 느낌 때문에...<br>

최근에 1주일 정도 스터디를 멈췄다. 다음주 1주일도 쉬어가게 될 것 같다. 지금 하고 있는 일이 더 급해서다.

- 초당 평균 1만건의 트래픽 Listen
- 초당 평균 1만건의 트래픽 MQ/웹소켓 푸시 
- 초당 평균 1만건 데이터 저장

이런 기능을 현재 하나의 인스턴스에서 전담해 처리하는 서버 애플리케이션을 담당하고 있는데, 80%정도 완성하고, 나머지 작업들에서 조금 실패하긴 했지만 거의 다 온거라고 희망을 갖고 계속 해오고 있다. 저번 주는 성능을 끌어올릴 수 있는 여러가지 스레드 처리 방법을 시도했다. 그 과정에서 잠도 못자고 생활패턴이 바뀌어서 늑대인간처럼 호르몬 변화가 생긴것 같은 기분도 든다. 어느 정도 성과는 있었다. 이번주 부터는 나머지 20%의 작업을 잘 돌아가게끔 하기 위해 조금 더 자료구조의 중복을 제거하고, 조금 더 테스트가 쉬운 코드로 만들고, 스레드 로직 단순화 작업을 시작한다.<br>

아무래도 인스턴스 하나에서 사용할 수 있는 스레드는 한정적이기 때문에 사용할만한 스레드 갯수를 줄이는 것과 자료구조 단순화에 초점을 맞추고 있다. 이게 성공하더라도, 나중에 트래픽 리스너와 푸시/저장 용도 리스너는 MQ를 사이에 두고 분리해야 장애원인 파악에 용이하지 않을까 싶다.<br>

초반 외주 프로그램의 자료구조에 치명적인 버그가 있다는 것도 파악했다. 상용에서 50% ~ 70%정도 잘 돌아가던 이걸 보고 맹신하면서 계속 하다가 믿어왔는데, 어느 정도 겁이 없어지고 코딩 레벨이 올라가면서, 기존의 초반 레거시 코드의 단점들을 모두 파악하고 한단계씩 리팩토링 해왔었다. 이것도 초기 개발시 5개월 정도 이상의 시간을 두고 기존 서비스를 살려둔 후에 프로젝트 셋업 시간을 가졌다면 이렇게까지는 안왔을 거라는 생각이 든다. 일의 진행이 더 빨라졌을 거다. 순간을 못참고 귀찮은 마음에 성급한 결정을 내리는 사람들이 너무 많아서 여기까지 온게 아닐까 싶다.<br>

<br>

대학교 졸업하고 주니어때부터 5년 가까이 중소기업을 여러 번 거쳐가며 일할 때, 매일 술퍼마시러 다니면서 입버릇처럼 `개발자는...` 이런 말을 하는 사람들을 자주 봐왔다. 그런 회사에서 일하면, 그 회사에서 오랫동안 일하는 사람들은 누군가에게 시킨 후에 그 코드를 인계받아서 본인이 깨작 깨작 수정하는 사람이 되고, 1년 내지 2년 안으로 이직하는 사람은 직접 뭔가를 만들어낸 후 회사에 오만 정이 떨어져서 퇴사하는 사람들로 구분되는 거라는 걸 최근에 느겼다. 아직까지도 아마 대부분의 중소기업 생태계는 비슷할 것 같다. 중소기업인데도 오래 재직했다는 것은 그만큼 편하게 회사생활 했다는 증거다.<br>

쉬면서 엄청 옛날에 내가 썼던 글들을 보니, `나는 정말 상처가 많은 사람이구나` 하고 생각했다. 전 회사인 중견회사로 이직하기 전까지 5년 가까이 넘게 중소기업에서 그렇게 일하다 보니 그런 원망섞인 감정들이 많았었구나. 하고 생각했다.<br>

지금 회사는 예전과 똑같은 상황은 아니다. 인력이 부족해서 이렇게 된 건데, 내가 그 인력이 부족해서 담당해야 하는 책임까지 1년 더 가지고 가야하나? 하는 생각을 했다. 아니지 않을까 싶다. 이번 일 끝나면, 5월 중으로 6월 이후 휴직계를 내거나 퇴직계를 내지 않을까 싶다.<br>

일단은 이런 생각 중이고, 지금은 지금 생각만 해야지. 잘풀려라 2022년!!!<br>

<br>