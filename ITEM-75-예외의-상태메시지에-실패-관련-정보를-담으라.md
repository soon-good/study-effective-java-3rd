# ITEM 75 - 예외의 상태메시지에 실패 관련 정보를 담으라



## `Stack Trace` 

자바 기반의 프로그램을 돌려보다보면 스택 트레이스(Stack Trace) 라는 것을 자주 접한다.<br>

Stack Trace 는 예외객체의 `toString` 메서드를 호출해서 얻어내는 문자열이다.

보통 클래스 이름 - 상태 메시지의 순으로 메시지가 구성되어 있다. <br>

StackTrace는 실패원인을 분석할때 매우 요긴하게 사용된다.<br>

따라서 예외의 toString 메서드에 실패에 대한 가능한 많은 정보를 담아 반환하는 것이 중요하다.<br>

일반적으로 Stack Trace 에는 호출한 다른 메서드들의 파일이름과 줄 번호까지 정확히 기록되어 있는 것이 보통이다. 따라서 문서와 소스코드로 얻을 수 있는 정보까지 길게 늘어놓을 필요까지는 없다.<br>

Stack Trace 는 상태 추적과정에서 가능한 많은 사람들이 볼수 있기에 보안에 민감한 비밀번호나 암호키 같은 정보까지 담지 않는 것이 좋다.<br>

<br>

## 예외의 생성자

책에서는 가급적 예외의 생성자에서 필요한 정보를 모두 받아서 상태 메시지까지 미리 생성해놓는 방식을 권장하고 있다. 하지만 모든 자바의 라이브러리가 이런 관례를 지키지는 않는다고 설명한다. 예를 들면 `IndexOutOfBoundsException` 생성자가 원칙을 지키지 않는 대표적 예라고 설명한다.<br>

<br>

## 접근자 메서드

> 잘 알려진 예외를 직접 상속받아 사용하는 경우에 대한 이야기를 하는 듯 하다. 트랜잭션에 대해 예외 번역이 중요한 결제 업무 등에서는 예외를 만들어서 쓰는 경우가 종종 있다고 들은 것 같다. 이런 경우에 유용한 팁이 되지 않을까 하고 생각해봤다.<br>

<br>

예외는 실패와 관련된 정보를 얻을수 있는 접근자 메서드를 적절히 제공하는 것이 좋다. Unchecked Exception 을 사용하더라도, getter 가 제공되면, toString() 만으로 예외에 대한 정보를 얻어오기보다, 조금 더 상세한 정보를 활용할 수 있다는 점에서 유용하다는 점을 책에서는 언급하고 있다.