# 2022-04-16 인수인계 험난할 듯 해보임

금요일 오전에 인수인계 회의를 했다. 전에 하던 선물 데이터 개발은 테스트 코드로 데이터 파악 + 데이터 매핑을 테스트 한 후에 배포하니, 문제 없이 PRE MARKET, MARKET TIME 모두 잘 배포됐었다. 원래부터 문제 파악 1일 + 문제 해결 1일이 걸릴 사이즈의 문제였던 것 같다. 그리고 부랴부랴 목요일에 배포해서 금요일 새벽장을 모니터링 했었고, 잘 됐다. 이걸 한번 더 쓰는 이유는 잠을 못자다 보니 시간개념이 갑자기 헷갈려서...ㅋㅋ<br>

개발한다는 작자가 주식데이터 개발업무를 나보다 먼저 개발 시작해서 2년이 다되가도록 사업 시작할때부터 나스닥 선물 거래소 홈페이지에 들어가서 개장/폐장시간을 단 한번이라도 확인을 안했다는 사실에 충격을 좀 먹었었다. 말로만 `서비스 개발` 하는 것은 아닌지 반성은 좀 해야 하지 않나 싶다.<br>

인수인계를 하는데 처음에 이일을 짬(?)시킨 사람 1명, 후임 담당자 1명, 팀내 개발자 1명이 같이 들었었다. 짬시켰다는 의미는 하다가 못하겠어서 다른 사람에게 떠넘겼다는 의미의 단어다.<br>

언제나 그렇듯 인수인계를 받는 사람들을 보면 답답하다. 가만히 앉아서 뭘 하려고 한다. 좀 바짝 붙어서 빠릿빠릿하게 뭘 해도 모자를 판에, 너무 게으르게 가만히 눈으로만 보면서 개발하려고 한다. 내가 지난 2주 동안 몇 시간 못 자가면서 만들어놓은 프로젝트가 뭔가 굉장히 쉽게 아무 고민 없이 술술 코딩하면서 개발한 줄 착각한다. 정말 답\~답 하기 그지 없어서 마음이 답답했었다. 중간에 개발하면서도 이걸 이렇게 하면 나중에 고착화 되니 여기에 공통화를 해둬야 고생을 덜하겠지 하는 식으로 깔끔하게 고치고 다시 테스트 코드 만들어두고 하는 데에 든 시간도 꽤 된다. 아무 생각 없이 쉽게 그냥 코딩이 되는줄 아나보다 싶었다.<br>

여기에 쁘라스... 인수인계 회의를 적어도 일주일에 한번씩은 해야 할 것 같다는 생각도 들었다.<br>

> 두번 다시 주식 데이터 업계로는 이직하지 말아야겠다는 생각이 들었다. 이런 사람들만 모여서 새로 들어온 사람에게 짬시키는 구조는 아닐까 하는 생각이 들었기 때문.

<br>

**인수인계 태도**<br>

나는 주식 데이터 하나를 개발할 때는 실 거래 데이터 로그 보고 어떤 필드를 사용해야 하는지 파악하는데에 최소 30분에서 1시간 이상 소요된 적이 많았는데 필드 매핑 자체를 아무 생각 없이 가만히 있으면 누가 해다가 바쳐주는줄 알고 있다. 그 마저도, 정말 힘들어서 증권회사 출신 직원에게 어쩌다 한번 질문을 해야 하는 경우가 종종 있었다. 로그라는 것 자체게 실제 데이터를 후행해서 보는 것이기에 마켓이 열리기까지 기다려야 하는 경우가 많기도 했으니 그보다 더 시간이 소요되기도 한다.<br>

금요일날 인계를 받던 그 사람을 볼때마다 항상 느꼈던 건, 이 사람은 처음부터 이 업계의 일을 시작할때 개발업무가 아니라 관리업무부터 시작한 사람인 것 같다는 생각이었다. 역시나 그날 질문도 이상한 질문만 하고 인수인계를 하면서 답\~답 하기 짝이 없었다.<br>

속으로 이런 생각이 들었다.<br>

> - 니들은 아직 정신 덜 차렸다. 
> - 니들은 말로만 회사가 어렵다고 이야기하지 막상 뭐 어려우면 남 시키기 급급한 인간들이다.
> - 본인 자체가 뭘 해결해볼 의지는 없는지 좀 따져보고. 나 자신에게 화나서 이 악물고 개발할 생각이 없구나 너희는... 난 그런 경험이 굉장히 자주 온것 같은데, 너희는 정말 신선놀음이다.

<br>

**안타까운 점**<br>

**1 ) 군대식 떠넘기기 문화**<br>

짬 시켰던 사람 A군은 또 다시 후임 개발자 B에게 일을 시킨다. 본인은 뒤에서 모니터만 보면서 이렇게 해라 저렇게 해라 또 그럴예정인가 보다.<br>

저번 주에 체력적으로 너무 힘들어서 정신을 잠깐 놓고 반 포기 상태로 있었는데, B군이 불쌍해서라도 할수 있는 선에서는 인수인계를 각잡고 성실하게 해주고 가야 겠다는 생각이 들었다.<br>

<br>

**2 ) 테스트 코드에 대한 인식 부재**<br>

테스트 코드를 작성하는게 무슨 고상떠는 일인줄 안다. 회의 내내 본인들은 이제 `서비스 개발` 을 한다는 이야기를 몇번이나 들었는지 모르겠다.<br>

 그러다가 된통 당해봐야 테스트 코드 작성할 생각을 하겠지 하는 생각이 들었다. 주식 데이터 애플리케이션은 상용에서 바로 테스트하기 어렵기때문에 최소 베타 인스턴스 하나는 있어야 하고, 베타에 배포를 하더라도, 데이터 애플리케이션 특성상 디버깅을 로그에만 의존해서 하게 된다.<br>

따라서 애플리케이션, 로직에서 원하는 부분만 골라서 빠르게 테스트할 수 있는 방도를 마련해야, 코드 작성이 점점 쉬워지게 된다. 좀 더 나아가서는 필요한 부분만 테스트 하고, 가급적 스프링 라이브러리나 DB  라이브러리 등에 의존하지 않은 독립적인 환경에서 테스트가 가능해야 한다. 순수 자바로만 테스트가 가능한 메서드를 만들어두면, 필요한 부분만 디버깅으로 바로 바로 이런 저런 행위들을 가정해서 테스트할 수 있기 때문이다.<br>

물론 모든 코드를 테스트 케이스로 만들기 쉽지 않다. 인터넷을 검색해보다 보면, 테스트 커버리지 70프로만 되도 양질의 테스트 커버리지를 가지고 있다는 말이 있듯이, 개발단계에서 모든 코드의 테스트 커버리지를 높이는 일은 쉽지 않다. 개발 단계에서 리팩토링이 꾸준히 일어나기도 하기에 쉽지 않다. 하지만, 필수적으로 테스트를 해야 하는 로직은 반드시 테스트 코드를 남겨놔야 한다.<br>

내 경우는 레피니티브 필드 프로세싱 로직을 거의 필수적으로 테스트 코드로 남겨놨었다. 이 부분에서 어디가 잘못됐는지 파악이 되어야 그 다음 데이터 저장/데이터 푸시 로직이 잘못된 것을 확인할 수 있기 때문이다. 처음에 단순히 상상만으로 코딩했다면 30분이었으면 가능할 것을 조금 피곤하더라도 로그 하나를 떠다가, 실제 데이터와 비슷한 환경을 만들어서 테스트 코드와 함깨 개발을 하는 것은 초기에 크게 잡으면 2시간 정도 걸렸던것 같다. 물론 체감상이기에 더 길게 걸렸을 수도 더 적게 걸렸을 수도 있다. 테스트 가능한 구조를 생각해내고 여러번 고쳤다가 다시 작성하고 하는 데에도 시간이 걸리니깐.<br>

하지만, 초반에 이렇게 고생을 해두고 나면, 나중에 유지 보수 시에 뭐가 잘못됐는지 파악하기 쉬워지고, 새로운 기능 추가시 어디를 손보면 될지 알게 되기에 쉬워지더라. 테스트 코드가 없으면, 유지 보수시에 아래와 같이 답답하게 조선시대식 , 국방부 전산 개발방식으로 개발하게 된다. 예를 들면 이렇다. (요즘 국방부 전산개발도 이렇게는 안할 수도 있다. 국방부 분들께 죄송.)

- 일단 뭐가 안되니깐 일단 베타 인스턴스를 만든다.
- 베타 인스턴스 조차도 내가 만들어서 갖다 바쳐줘야 한다. 
  - 그 전에는 만들겠다고 건의할 때마다 안된다고 고집해서 못만들었었다.
- 유지 보수시에 베타 인스턴스를 자주 기동시키면서 서버 로그를 보면서 수정하게 된다. 
- 이렇게 되면 배포하는 시간 1분
- 서버로그 멍하니 보고 있는 시간 30초 ~ 1분
- 로그 보다가 동체시력이 못따라가서 스크롤하는데에 2분
- 멍하니 로그 보면서 이게 뭐지? 하는데에 5분
- 동료랑 잡담하느라 5분 
- 코드보면서 깨작깨작 1시간, 어? 어렵네? 그냥 물어봐서 해결하지 뭐.

이런식으로 개발하게 될거다. 농담이 아니고, 이 사람들이 일하는 방식을 지금까지 봐왔기에 이렇게 될 공산이 매우 크다.<br>

지금 팀은 테스트코드를 저언\~혀 작성을 안하기에, 아마도 위에 적힌대로 삽질?을 할것 같다. 내가 니네들 전 회사가 어디 좋은데 나왔다고 뻐기고 다닐때부터 알아봤다... 입으로 개발하지 말고 좀 키보드 앞에 찰싹 달라붙어서 각 잡고 아드레날린 뿜으면서 개발해야 하는데, 차암\~ 답답하기 짝이 없는 사람들이다.<br>

<br>

**3 ) 나한테 하나 더 올것 같은일**<br>

`경제 지표`라는 데이터를 개발해야 하는데, 그것 조차도 내가 해야 한다고 생각하는 것 같다. 어쩌면 이렇게 혼자서 하나도 못하는 인간들이랑 1년 동안 잘 참고 일한걸까? 하는 생각에 나도 모르게 어이 없을 때가 많다. 나도 처음부터 뭘 알고있어서 하는게 아닌데 또 해서 갖다 바쳐주기를 바라는 눈치인 것 같다.<br>

이것까지도 하나 더 만들어주고 나가게 되지 않으려나 싶다. 테스트 코드 기반으로 개발하면 유지보수가 어렵지 않은일을 서버에 무턱대고 붙어서 서버로 바로 밀어붙이려고 하니 어려운거다.<br>

아무리 몇년 전에는 코딩 테스트를 치는 회사가 많지 않았다고 해도, 어떻게 이런 사람들이 그 큰 회사에서 일했을까? 하는 생각에 사회의 부조리한 면도 생각해본것 같다.<br>

자꾸 자기는 `서비스 개발` 한다고 이야기를 하는데, 아무리 봐도 `서비스 운영` 내지, 관리 업무만 해본 사람이다. 옆에서 보면 깨작 깨작... 뭐 안되면 배포해보고 되는지 확인,,, 답답하다. 모르면 어떻게 하는지 배우거나, 직접 부딪히면서 문제해결을 하는 자세를 가져야 하는데, 느무 느무 답답하다. 앞으로는 진짜 중소기업에서 고생해본 사람들 존경하고 살아야 겠다. 어휴... 치가 떨리는 인간들이다.<br>

다른 새로운거 개발할 때는 어쩌려는지 모르겠다. 한심할 뿐이다.<br>

<br>

**단순히 개발을 잘하고 못하고의 문제는 아닌듯하다.**<br>

단순히 개발의 문제가 아니다 이건. 인성의 문제다. 살면서도 타의로든, 자의로든 경미한 차량 접촉사고 등등 여러가지 예상치 못한 사고가 갑자기 날 수 있는데, 그 상황에서 스스로 판단을 내리고 문제 해결을 해야 하는데, 가만히 멍하니 있는거랑 다를 바가 전혀 없는 상황인 것 같다.<br>

<br>

