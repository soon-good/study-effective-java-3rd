## 2022-04-14 조금만 더 힘내자

아... 다 끝난줄 알았는데, 이전 레거시가 싼 똥이 하나 더 있어서 내가 치워야 한다.<br>

이전 로직은 선물 데이터의 처리를 눈속임으로 다른 테이블의 데이터로 같은 날짜의 데이터인 것처럼 처리했었다. 물론 그 사람잘못이 아니다.<br>

그래서 OPEN/HIGH/LOW 가 들어오는 시점을 알 수 없었고, 일별 데이터 처리에 문제가 있었다.<br>

<br>

어제 그래서 나스닥 선물 거래소 하나만 예제로 데이터를 시간별로 로그를 뜨고 테스트 코드로 OPEN/HIGH/LOW 필드가 나타나는 시점을 추출하고, 거래일은 어떻게 표시하는 지 등을 테스트 코드로 파악했다.<br>

알고보니 개업 2년이 가까운 현재 회사는, 여태까지 아무도 선물데이터의 개장 데이터가 언제오는지 아는 사람이 없었다...ㅋㅋㅋ 직접 테스트 코드로 파악해본게 정확할지는 모르겠지만, 오늘 적용해볼 예정이다.<br>

이 과정에서 `오늘 안에 모두 처리해야돼` 하는 마음때문에 그날 하루만에 파악은 됐지만, 코드를 그날 안에 모두 파악하려 했다. 당연이 하루만에 코드작성이 안됐다....<br>

<br>

오늘 아침에 일어나서 든 생각은 이렇다.<br>

> 레거시가 처리하던 방식을 내가 너무 맹신했다.<br>
>
> 사실만 보면, 항상 틱 처리 등 모든 것을 처음부터 새로 개발해야 했었다.<br>
>
> 한달 전 쯤 개선된 버전으로 새로 개발한 틱 처리는 테스트 코드 기반으로 개발했을때 한번에 정상적으로 배포가 잘 됐었다.<br>
>
> 레거시는, 지금 회사에서 2년 전쯤 외주 업체에 무례하게 말도 안되는 일정압박을 해서 얻어낸 산물일 뿐이고, 지금 수준의 새 코드에서는 레거시 코드의 로직이 오히려 판단에 도움이 안된다.  <br>
>
> 지금 만들어낸 결과물을 기준으로 생각하자.<br>
>
> 새로 만들어내야 하는게 있으면, 항상 그래왔듯이 테스트 코드에서 다시 시작하자.<br>

<br>

그래서 오늘까지만 테스트 코드기반으로 한번 더 시간을 내서 해야겠지 싶다. <br>

에전에는 빨리 처리안되면 조급하고, 뭐가 안되면 어떻게 하지? 했었는데, 하루 안에, 이틀 안에 안되는 일이 있다. 이럴 때는 심호흡 한번 하고, 한 번만 더 천천히 가자. 하는 마음으로 해야 한다. 개발자는 누가 다그치는 사람이 주변이 있기 때문에 마인드 컨트롤이 쉽지 않다. 그래서 예전회사, 전전회사, 첫회사에서 다들 개발 일정을 20프로 더해서 산출해주는 거였지 않을까 싶기도 하다는 생각이 들었다.<br>

<br>

어제 오늘 사이에 스터디를 못해서 이전에 공부하던 내용들, 정리해둔 문서들만 커밋했는데, 미리 만들어둔 총알(예전에 만들어둔 문서들)이 거의 다 떨어졌다. 오늘 일만 잘 처리되면 또 다시  총알(커밋 대기열)을 많이 만들어놔야 하는 구만 허허...<br>

<br>

